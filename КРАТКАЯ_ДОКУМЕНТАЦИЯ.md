# Система электронного надзора за осужденными

## 📋 Описание

Комплексная система мониторинга осужденных, находящихся под надзором, включающая мобильное приложение для осужденных и веб-панель для сотрудников надзора.

---

## ⚡ Основной функционал

### Мобильное приложение (для осужденных):

1. **Авторизация по ИНН и паролю**
   - Безопасная аутентификация с JWT токенами
   - Защищённое хранение данных

2. **Проверка Face-ID**
   - Распознавание лиц в режиме реального времени
   - Сравнение с эталонным фото
   - Сохранение результатов проверки с фотографиями

3. **GPS-трекинг**
   - Отслеживание местоположения в реальном времени
   - Работа в фоновом режиме
   - Оффлайн-режим с синхронизацией данных

4. **Личный профиль**
   - Просмотр информации о себе
   - История проверок Face-ID
   - Управление устройствами

### Веб-панель (для сотрудников):

1. **Интерактивная карта**
   - Отображение всех осужденных на карте Кыргызстана
   - Отслеживание перемещений в режиме реального времени
   - Просмотр истории маршрутов

2. **Управление клиентами**
   - База данных осужденных
   - Редактирование информации
   - Добавление/удаление клиентов

3. **Мониторинг Face-ID**
   - История всех проверок
   - Просмотр фотографий
   - Статистика успешности проверок

4. **Административная панель**
   - Управление пользователями системы
   - Настройка прав доступа
   - Просмотр системных логов

---

## 🎯 Преимущества

### Технические:

- ✅ **Кроссплатформенность** - работает на iOS и Android
- ✅ **Режим оффлайн** - сохранение данных при отсутствии сети
- ✅ **Высокая точность** - современные алгоритмы распознавания лиц
- ✅ **Масштабируемость** - архитектура позволяет работать с тысячами пользователей
- ✅ **Безопасность** - шифрование данных, JWT аутентификация

### Функциональные:

- 🚀 **Экономия времени** - автоматизация процесса контроля
- 📍 **Точное позиционирование** - GPS с точностью до 10 метров
- 📊 **Аналитика** - полная статистика по каждому осужденному
- 🔔 **Уведомления** - напоминания о необходимости проверки (в разработке)
- 🌐 **Географическая привязка** - ограничение зон передвижения

---

## 🛠️ Технологический стек

### Backend (Сервер):

- **Язык:** Kotlin 1.9.20
- **Фреймворк:** Spring Boot 3.2.0
- **База данных:** PostgreSQL (probationmob)
- **Миграции:** Flyway
- **GPS сервер:** Traccar 5.x
- **Распознавание лиц:** JavaCV (OpenCV)
- **API:** RESTful
- **Аутентификация:** JWT (JSON Web Tokens)

### Frontend (Веб-панель):

- **Язык:** TypeScript
- **Фреймворк:** React 18.3.1
- **Сборщик:** Vite 5.4.1
- **Навигация:** React Router v6
- **Карты:** Leaflet (OpenStreetMap)
- **HTTP клиент:** Axios
- **Стили:** CSS Modules

### Mobile (Мобильное приложение):

- **Фреймворк:** React Native 0.81.5
- **Platform:** Expo 54
- **Навигация:** React Navigation v6
- **Камера:** Expo Camera v17
- **GPS:** Expo Location v19
- **Хранилище:** AsyncStorage
- **HTTP клиент:** Axios

### Инфраструктура:

- **Сервер:** MikroTik RouterOS (файрвол, NAT)
- **Порты:**
  - Backend API: 8083 (внутренний), 3728 (внешний)
  - Traccar GPS: 8082
  - Web панель: 5173
  - PostgreSQL: 5432

---

## 📊 Архитектура системы

```
┌─────────────────┐
│  Мобильное      │
│  приложение     │──────┐
│  (iOS/Android)  │      │
└─────────────────┘      │
                         │
                         ▼
                  ┌──────────────┐
                  │   MikroTik   │
                  │  (port 3728) │
                  └──────────────┘
                         │
                         ▼
        ┌────────────────────────────────┐
        │      Spring Boot Backend       │
        │         (port 8083)             │
        ├────────────────────────────────┤
        │  - RESTful API                 │
        │  - JWT Authentication          │
        │  - Face Recognition (JavaCV)   │
        │  - Business Logic              │
        └────────────────────────────────┘
                │                 │
                ▼                 ▼
        ┌──────────────┐  ┌──────────────┐
        │  PostgreSQL  │  │   Traccar    │
        │  (port 5432) │  │  (port 8082) │
        └──────────────┘  └──────────────┘
                         │
                         ▼
                  ┌──────────────┐
                  │  Веб-панель  │
                  │  React/Vite  │
                  │ (port 5173)  │
                  └──────────────┘
```

---

## 🔐 Безопасность

- **JWT токены** для аутентификации
- **Хеширование паролей** в базе данных
- **HTTPS** для всех соединений (в продакшене)
- **Географическая фильтрация** - доступ только из Кыргызстана (MikroTik firewall)
- **Валидация данных** на всех уровнях

---

## 📱 Системные требования

### Мобильное приложение:

- **iOS:** 13.0 и выше
- **Android:** 5.0 (API 21) и выше
- **Камера:** фронтальная камера
- **GPS:** обязательно
- **Интернет:** Wi-Fi или мобильная сеть (3G/4G/5G)

### Веб-панель:

- **Браузеры:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **Разрешение экрана:** минимум 1366x768

### Сервер:

- **ОС:** Linux (Ubuntu 20.04+ / Debian 11+)
- **RAM:** минимум 4 GB
- **Процессор:** 2+ ядра
- **HDD:** минимум 20 GB

---

## 🚀 Быстрый старт

### 1. Backend:
```bash
cd FreshBackend
./gradlew bootRun
```

### 2. Веб-панель:
```bash
cd svezh
npm install
npm run dev
```

### 3. Мобильное приложение:
```bash
cd iosandroid
npm install
npx expo start --tunnel
```

---

## 📞 Поддержка

**Учетные данные для тестирования:**
- ИНН: `1234567890123`
- Пароль: `password123`

**Документация:**
- Полная архитектура: `SYSTEM_ARCHITECTURE.md`
- Руководство по тестированию: `MOBILE_TESTING_GUIDE.md`
- Настройка проекта: `TESTING_SETUP_SUMMARY.md`

---

## 📈 Статистика проекта

- **Backend:** ~15,000 строк кода (Kotlin)
- **Web:** ~8,000 строк кода (TypeScript/React)
- **Mobile:** ~5,000 строк кода (JavaScript/React Native)
- **База данных:** 12 таблиц с миграциями
- **API endpoints:** 30+ эндпоинтов

---

## 📄 Лицензия

Proprietary - Система разработана для органов надзора Кыргызской Республики.

**© 2024 Система электронного надзора**
