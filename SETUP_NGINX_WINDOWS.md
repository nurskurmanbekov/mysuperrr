# üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx –Ω–∞ Windows (–¥–ª—è KG –∑–æ–Ω—ã)

## –í–∞—à–∞ —Å–∏—Ç—É–∞—Ü–∏—è:
- ‚úÖ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows
- ‚úÖ 85.113.27.42 - –≤–Ω–µ—à–Ω–∏–π IP —Ä–æ—É—Ç–µ—Ä–∞
- ‚ùå Nginx –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

---

## –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx –Ω–∞ Windows

### –®–∞–≥ 1: –°–∫–∞—á–∞—Ç—å Nginx

1. –û—Ç–∫—Ä–æ–π—Ç–µ: http://nginx.org/en/download.html
2. –°–∫–∞—á–∞–π—Ç–µ **nginx/Windows** (Stable version)
   - –ù–∞–ø—Ä–∏–º–µ—Ä: `nginx-1.24.0.zip`
3. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ **C:\nginx**

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `nginx_windows_config.conf` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

2. **–ó–∞–º–µ–Ω–∏—Ç–µ** `C:\nginx\conf\nginx.conf` –Ω–∞ –Ω–∞—à —Ñ–∞–π–ª:
   ```cmd
   copy /Y nginx_windows_config.conf C:\nginx\conf\nginx.conf
   ```

### –®–∞–≥ 3: –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç 80 –≤ Windows Firewall

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ PowerShell (–æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)**
```powershell
New-NetFirewallRule -DisplayName "Nginx HTTP" -Direction Inbound -Protocol TCP -LocalPort 80 -Action Allow
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ GUI**
1. –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows
2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π ‚Üí –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ
4. –ü–æ—Ä—Ç ‚Üí TCP ‚Üí 80 ‚Üí –†–∞–∑—Ä–µ—à–∏—Ç—å

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å Nginx

```cmd
cd C:\nginx
start nginx.exe
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞:**
```cmd
tasklist | findstr nginx
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ nginx.exe

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

```cmd
curl http://localhost/health
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: OK - Backend:8083

curl http://localhost/api/
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç Spring Boot
```

### –®–∞–≥ 6: –ü—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç 80 –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ

1. **–£–∑–Ω–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π IP Windows –º–∞—à–∏–Ω—ã:**
   ```cmd
   ipconfig | findstr IPv4
   ```
   –ù–∞–ø—Ä–∏–º–µ—Ä: `192.168.1.100`

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É —Ä–æ—É—Ç–µ—Ä–∞** (–æ–±—ã—á–Ω–æ http://192.168.1.1)

3. **–ù–∞–π–¥–∏—Ç–µ Port Forwarding / Virtual Server**

4. **–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ:**
   - –ò–º—è: `Nginx-HTTP`
   - –ü—Ä–æ—Ç–æ–∫–æ–ª: `TCP`
   - –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç: `80`
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP: `192.168.1.100` (–≤–∞—à IP –∏–∑ —à–∞–≥–∞ 1)
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç: `80`
   - –í–∫–ª—é—á–µ–Ω–æ: ‚úì

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–≤–Ω–µ

**–° —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–æ—Ç–∫–ª—é—á–∏—Ç–µ WiFi, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç):**
```
http://85.113.27.42/health
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `OK - Backend:8083`

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Nginx –Ω–∞ Windows

### –ó–∞–ø—É—Å–∫
```cmd
cd C:\nginx
start nginx.exe
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```cmd
cd C:\nginx
nginx.exe -s stop
```

### –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
```cmd
cd C:\nginx
nginx.exe -s reload
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```cmd
cd C:\nginx
nginx.exe -t
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```cmd
cd C:\nginx\logs
type access.log
type error.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Nginx –∑–∞–ø—É—â–µ–Ω
```cmd
tasklist | findstr nginx
```

---

## –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ Nginx –∫–∞–∫ —Å–ª—É–∂–±—ã Windows

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ NSSM (Non-Sucking Service Manager)

1. **–°–∫–∞—á–∞–π—Ç–µ NSSM:**
   - https://nssm.cc/download
   - –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ `C:\nssm`

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx –∫–∞–∫ —Å–ª—É–∂–±—É:**
   ```cmd
   C:\nssm\nssm.exe install nginx "C:\nginx\nginx.exe"
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª—É–∂–±—É:**
   ```cmd
   net start nginx
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫:**
   ```cmd
   sc config nginx start= auto
   ```

–¢–µ–ø–µ—Ä—å Nginx –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ Windows!

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

```cmd
REM 1. Backend —Ä–∞–±–æ—Ç–∞–µ—Ç?
netstat -ano | findstr :8083
curl http://localhost:8083/api/

REM 2. Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç?
tasklist | findstr nginx
curl http://localhost:80/health

REM 3. Nginx –≤–∏–¥–∏—Ç Backend?
curl http://localhost/api/

REM 4. –ò–∑–≤–Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω? (—Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
REM http://85.113.27.42/health
```

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "nginx: [emerg] bind() to 0.0.0.0:80 failed"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 80 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π (IIS, Apache, Skype)

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
REM –£–∑–Ω–∞—Ç—å —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç 80:
netstat -ano | findstr :80

REM –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å IIS (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
iisreset /stop

REM –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
REM –í nginx.conf –∑–∞–º–µ–Ω–∏—Ç–µ "listen 80;" –Ω–∞ "listen 8080;"
```

### –û—à–∏–±–∫–∞: "502 Bad Gateway"

**–ü—Ä–∏—á–∏–Ω–∞:** Nginx –∑–∞–ø—É—â–µ–Ω, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Backend

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
REM –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç:
netstat -ano | findstr :8083

REM –ï—Å–ª–∏ –Ω–µ—Ç - –∑–∞–ø—É—Å—Ç–∏—Ç–µ Backend:
cd C:\–ø—É—Ç—å\–∫\FreshBackend
gradlew.bat bootRun
```

### –û—à–∏–±–∫–∞: "Connection refused" –∏–∑–≤–Ω–µ

**–ü—Ä–∏—á–∏–Ω–∞:** Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–ª–∏ –ø–æ—Ä—Ç –Ω–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Windows Firewall (–¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–µ—à–∞—Ç—å –ø–æ—Ä—Ç 80)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Port Forwarding –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 80

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 8080 –≤–º–µ—Å—Ç–æ 80

–ï—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 80:

1. –í `nginx.conf` –∏–∑–º–µ–Ω–∏—Ç–µ:
   ```nginx
   listen 8080;  # –ë—ã–ª–æ: listen 80;
   ```

2. –ü—Ä–æ–±—Ä–æ—Å—å—Ç–µ –ø–æ—Ä—Ç 8080 –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ

3. –í –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
   ```javascript
   BASE_URL: 'http://85.113.27.42:8080/api'
   ```

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞

```
–¢–µ–ª–µ—Ñ–æ–Ω (4G/5G)
      ‚Üì
85.113.27.42:80 (–≤–Ω–µ—à–Ω–∏–π IP)
      ‚Üì
–†–æ—É—Ç–µ—Ä (Port Forward: 80 ‚Üí 192.168.1.100:80)
      ‚Üì
Windows –º–∞—à–∏–Ω–∞ (192.168.1.100)
      ‚Üì
Nginx :80
      ‚Üì
Spring Boot :8083
```

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ Nginx –Ω–∞ Windows –±—É–¥–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ http://85.113.27.42/api
- ‚úÖ Backend –±—É–¥–µ—Ç –∑–∞—â–∏—â—ë–Ω (–ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ 8083 –Ω–µ –Ω—É–∂–µ–Ω)

**–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```javascript
BASE_URL: 'http://85.113.27.42/api'  // ‚úÖ –ì–æ—Ç–æ–≤–æ!
```

–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥ –≤–Ω–æ—Å–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!
